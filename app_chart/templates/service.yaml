apiVersion: v1
kind: Service
metadata:
  name: {{ .Release.Name }}
  labels:
    app: {{ .Release.Name }}
  namespace: model-serving
spec:
  selector:
    app: {{ .Release.Name }}
  ports:
    - port: 80  # Cổng mà Service lắng nghe
      name: appport
      protocol: TCP
      targetPort: 8000 # Cổng mà ứng dụng FastAPI chạy bên trong container
    - port: 8099
      name: metricsport
      protocol: TCP
      targetPort: 8099
  type: NodePort